{% extends "base.html" %}

{% block title %}Privacy Champion Dashboard - Privacy ROPA System{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1><i class="fas fa-user-check me-2"></i>Privacy Champion Dashboard</h1>
</div>

<!-- Custom Tabs Navigation -->
<div class="card">
    <div class="card-header">
        <h5 class="mb-0">
            <i class="fas fa-tabs me-2"></i>ROPA Record Sections
        </h5>
    </div>
    <div class="card-body">
        <ul class="nav nav-pills nav-justified" id="ropaMainTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="basic-info-tab" data-bs-toggle="pill" data-bs-target="#basic-info" type="button" role="tab" aria-controls="basic-info" aria-selected="true">
                    <i class="fas fa-info-circle me-1"></i>Basic Info
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="controller-tab" data-bs-toggle="pill" data-bs-target="#controller" type="button" role="tab" aria-controls="controller" aria-selected="false">
                    <i class="fas fa-user-tie me-1"></i>Controller
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="dpo-tab" data-bs-toggle="pill" data-bs-target="#dpo" type="button" role="tab" aria-controls="dpo" aria-selected="false">
                    <i class="fas fa-shield-alt me-1"></i>DPO
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="processor-tab" data-bs-toggle="pill" data-bs-target="#processor" type="button" role="tab" aria-controls="processor" aria-selected="false">
                    <i class="fas fa-cogs me-1"></i>Processor
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="processing-tab" data-bs-toggle="pill" data-bs-target="#processing" type="button" role="tab" aria-controls="processing" aria-selected="false">
                    <i class="fas fa-tasks me-1"></i>Processing
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="data-tab" data-bs-toggle="pill" data-bs-target="#data" type="button" role="tab" aria-controls="data" aria-selected="false">
                    <i class="fas fa-database me-1"></i>Data
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="recipients-tab" data-bs-toggle="pill" data-bs-target="#recipients" type="button" role="tab" aria-controls="recipients" aria-selected="false">
                    <i class="fas fa-users me-1"></i>Recipients
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="retention-tab" data-bs-toggle="pill" data-bs-target="#retention" type="button" role="tab" aria-controls="retention" aria-selected="false">
                    <i class="fas fa-calendar me-1"></i>Retention
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="security-tab" data-bs-toggle="pill" data-bs-target="#security" type="button" role="tab" aria-controls="security" aria-selected="false">
                    <i class="fas fa-lock me-1"></i>Security
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="custom-tabs-tab" data-bs-toggle="pill" data-bs-target="#custom-tabs" type="button" role="tab" aria-controls="custom-tabs" aria-selected="false">
                    <i class="fas fa-plus-square me-1"></i>Custom Tabs
                </button>
            </li>
        </ul>

        <!-- Tab Content -->
        <div class="tab-content mt-4" id="ropaMainTabsContent">
            <div class="tab-pane fade show active" id="basic-info" role="tabpanel" aria-labelledby="basic-info-tab">
                <div class="alert alert-info">
                    <i class="fas fa-info-circle me-2"></i>
                    <strong>Basic Info:</strong> Core information about the processing activity including name, purpose, and description.
                </div>
            </div>

            <div class="tab-pane fade" id="controller" role="tabpanel" aria-labelledby="controller-tab">
                <div class="alert alert-info">
                    <i class="fas fa-user-tie me-2"></i>
                    <strong>Controller:</strong> Information about the data controller responsible for processing decisions.
                </div>
            </div>

            <div class="tab-pane fade" id="dpo" role="tabpanel" aria-labelledby="dpo-tab">
                <div class="alert alert-info">
                    <i class="fas fa-shield-alt me-2"></i>
                    <strong>DPO:</strong> Data Protection Officer contact details and responsibilities.
                </div>
            </div>

            <div class="tab-pane fade" id="processor" role="tabpanel" aria-labelledby="processor-tab">
                <div class="alert alert-info">
                    <i class="fas fa-cogs me-2"></i>
                    <strong>Processor:</strong> Third-party processors involved in data processing activities.
                </div>
            </div>

            <div class="tab-pane fade" id="processing" role="tabpanel" aria-labelledby="processing-tab">
                <div class="alert alert-info">
                    <i class="fas fa-tasks me-2"></i>
                    <strong>Processing:</strong> Details about processing operations, legal basis, and purposes.
                </div>
            </div>

            <div class="tab-pane fade" id="data" role="tabpanel" aria-labelledby="data-tab">
                <div class="alert alert-info">
                    <i class="fas fa-database me-2"></i>
                    <strong>Data:</strong> Categories of personal data being processed and data sources.
                </div>
            </div>

            <div class="tab-pane fade" id="recipients" role="tabpanel" aria-labelledby="recipients-tab">
                <div class="alert alert-info">
                    <i class="fas fa-users me-2"></i>
                    <strong>Recipients:</strong> Categories of recipients who have access to personal data.
                </div>
            </div>

            <div class="tab-pane fade" id="retention" role="tabpanel" aria-labelledby="retention-tab">
                <div class="alert alert-info">
                    <i class="fas fa-calendar me-2"></i>
                    <strong>Retention:</strong> Data retention periods and deletion procedures.
                </div>
            </div>

            <div class="tab-pane fade" id="security" role="tabpanel" aria-labelledby="security-tab">
                <div class="alert alert-info">
                    <i class="fas fa-lock me-2"></i>
                    <strong>Security:</strong> Technical and organizational security measures implemented.
                </div>
            </div>

            <div class="tab-pane fade" id="custom-tabs" role="tabpanel" aria-labelledby="custom-tabs-tab">
                <div class="alert alert-warning">
                    <i class="fas fa-plus-square me-2"></i>
                    <strong>Custom Tabs:</strong> Additional custom fields and sections for specific organizational needs.
                </div>
                <a href="{{ url_for('custom_tabs') }}" class="btn btn-primary">
                    <i class="fas fa-cog me-2"></i>Manage Custom Tabs
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// Initialize Bootstrap tabs
document.addEventListener('DOMContentLoaded', function() {
    var triggerTabList = [].slice.call(document.querySelectorAll('#ropaMainTabs button'));
    triggerTabList.forEach(function (triggerEl) {
        var tabTrigger = new bootstrap.Tab(triggerEl);

        triggerEl.addEventListener('click', function (event) {
            event.preventDefault();
            tabTrigger.show();
        });
    });
});
</script>
{% endblock %}